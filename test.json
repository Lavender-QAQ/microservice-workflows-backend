{"metadata":{"generateName":"rtdtrdt","namespace":"argo","creationTimestamp":null},"spec":{"workflowSpec":{"templates":[{"name":"rtdtrdt-dag","inputs":{},"outputs":{},"metadata":{},"dag":{"tasks":[{"name":"Starter","template":"Starter","arguments":{}},{"name":"Pythonscript-1x5m8p5","template":"Pythonscript-1x5m8p5","arguments":{"artifacts":[{"name":"Pythonscript-1ae4mn9-art","from":"{{tasks.Pythonscript-1ae4mn9.outputs.artifacts.Pythonscript-1ae4mn9-art}}"}]},"dependencies":["Pythonscript-1ae4mn9"]},{"name":"Pythonscript-1ae4mn9","template":"Pythonscript-1ae4mn9","arguments":{"artifacts":[{"name":"Starter-art","from":"{{tasks.Starter.outputs.artifacts.Starter-art}}"}]},"dependencies":["Starter"]}]}},{"name":"Starter","inputs":{},"outputs":{"artifacts":[{"name":"Starter-art","path":"/tmp/Starter-art.json"}]},"metadata":{},"container":{"name":"","image":"argoproj/argosay:v2","args":["echo","{\"msg\":\"workflow starts\"}","/tmp/Starter-art.json"],"resources":{}}},{"name":"Pythonscript-1x5m8p5","inputs":{"artifacts":[{"name":"Pythonscript-1ae4mn9-art","path":"/tmp/Pythonscript-1ae4mn9-art"}]},"outputs":{},"metadata":{},"script":{"name":"","image":"192.168.31.60/argo/python:3.6","command":["python"],"resources":{},"source":"import json\n\ninput = json.load(open('/tmp/Pythonscript-1ae4mn9-art', 'r', encoding='utf-8'))\n\ninput[\"msg\"] = \"hello, hongjiasheng\"\ninput[\"data\"][\"fileld2\"] = \"lalala\"\nresult = input\n\ntry:\n    json.dump(result, open('/tmp/Pythonscript-1x5m8p5-art.json', 'w'))\n    print(result)\n    print('success')\nexcept Exception as e:\n    print(e)"}},{"name":"Pythonscript-1ae4mn9","inputs":{"artifacts":[{"name":"Starter-art","path":"/tmp/Starter-art"}]},"outputs":{"artifacts":[{"name":"Pythonscript-1ae4mn9-art","path":"/tmp/Pythonscript-1ae4mn9-art.json"}]},"metadata":{},"script":{"name":"","image":"192.168.31.60/argo/python:3.6","command":["python"],"resources":{},"source":"import json\n\ninput = json.load(open('/tmp/Starter-art', 'r', encoding='utf-8'))\n\nstr = \"{\\\"code\\\": 200,\\\"msg\\\": \\\"hello, world\\\",\\\"data\\\": {\\\"field1\\\": \\\"field1\\\",\\\"field2\\\": \\\"field2\\\",}}\"\nresult = eval(str)\n\ntry:\n    json.dump(result, open('/tmp/Pythonscript-1ae4mn9-art.json', 'w'))\n    print(result)\n    print('success')\nexcept Exception as e:\n    print(e)"}}],"entrypoint":"rtdtrdt-dag","arguments":{}},"schedule":"*/1 * * * *","concurrencyPolicy":"Allow"},"status":{"active":null,"lastScheduledTime":null,"conditions":null}}